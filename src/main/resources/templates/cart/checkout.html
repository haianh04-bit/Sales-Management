<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<head>
    <title>Thanh to√°n</title>
</head>
<body>
<section layout:fragment="content" class="container mt-4">
    <h2>üí≥ X√°c nh·∫≠n ƒë∆°n h√†ng</h2>

    <div th:if="${#lists.isEmpty(cartItems)}" class="alert alert-warning">
        Gi·ªè h√†ng tr·ªëng. <a th:href="@{/}">Quay l·∫°i mua s·∫Øm</a>
    </div>

    <div th:if="${!#lists.isEmpty(cartItems)}">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>T√™n xe</th>
                <th>S·ªë l∆∞·ª£ng</th>
                <th>Gi√°</th>
                <th>Th√†nh ti·ªÅn</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="item : ${cartItems}">
                <td th:text="${item.car.name}"></td>
                <td th:text="${item.quantity}"></td>
                <td th:text="${#numbers.formatDecimal(item.car.price,0,'COMMA',0,'POINT')}"></td>
                <td th:text="${#numbers.formatDecimal(item.car.price * item.quantity,0,'COMMA',0,'POINT')}"></td>
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <td colspan="3" class="text-end"><strong>T·ªïng c·ªông:</strong></td>
                <td>
                    <span th:text="${#numbers.formatDecimal(totalPrice,0,'COMMA',0,'POINT')}"></span>
                </td>
            </tr>
            </tfoot>
        </table>

        <form th:action="@{/cart/checkout}" method="post" class="text-end">
            <button type="submit" class="btn btn-primary">ƒê·∫∑t h√†ng</button>
            <a th:href="@{/cart}" class="btn btn-secondary">Quay l·∫°i gi·ªè h√†ng</a>
        </form>
    </div>
</section>
</body>
</html>
